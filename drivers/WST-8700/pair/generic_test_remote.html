<script>
var options = {
	template: '../lib/pair/test_remote.html',
	id: 'generic_test_remote',
	title: 'deviceClasses.generic_wall_switch.views.generic_test_remote.title',
	body: 'deviceClasses.generic_wall_switch.views.generic_test_remote.body',
	svg: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 17.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="1479.91px" height="1479.919px" viewBox="0 0 1479.91 1479.919" enable-background="new 0 0 1479.91 1479.919"\n\t xml:space="preserve" xmlns:pulse="-" xmlns:onclick="-" xmlns:animation="-" animation:flip="noflip" xmlns:flip="-">\n  <style type="text/css">\n   <![CDATA[\n     svg .noflip {\n\t\ttransform-origin: 50% 50%;\n        -moz-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -webkit-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -ms-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n      }\n     svg .flip {\n\t\ttransform-origin: 50% 50%;\n        -moz-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -webkit-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -ms-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n      }\n\n     @-webkit-keyframes flip {\n          from {\n\t\t\ttransform: rotate(0);\n          }\n          to {\n\t\t\ttransform: rotate(180deg);\n          }\n      }\n\n      @keyframes flip {\n          from {\n\t\t\ttransform: rotate(0);\n          }\n          to {\n\t\t\ttransform: rotate(180deg);\n          }\n      }\n\n     @-webkit-keyframes noflip {\n          from {\n\t\t\ttransform: rotate(180deg);\n          }\n          to {\n\t\t\ttransform: rotate(0);\n          }\n      }\n\n      @keyframes noflip {\n          from {\n\t\t\ttransform: rotate(180deg);\n          }\n          to {\n\t\t\ttransform: rotate(0);\n          }\n      }\n   ]]>\n  </style>\n\t<g flip:rotated="180">\n<g>\n\t<path d="M1340.394,17.411H139.516c-33.578,0-64.1,13.743-86.237,35.878c-22.135,22.128-35.868,52.66-35.868,86.237v1200.87\n\t\tc0,67.161,54.944,122.112,122.106,122.112h1200.877c33.57,0,64.099-13.741,86.227-35.878c22.137-22.135,35.878-52.66,35.878-86.234\n\t\tV139.526C1462.499,72.355,1407.557,17.411,1340.394,17.411 M139.516,0h1200.877c76.735,0,139.516,62.781,139.516,139.526v1200.87\n\t\tc0,38.376-15.691,73.262-40.98,98.543c-25.281,25.29-60.16,40.98-98.536,40.98H139.516C62.781,1479.919,0,1417.131,0,1340.396\n\t\tV139.526c0-38.376,15.691-73.265,40.971-98.545C66.251,15.691,101.14,0,139.516,0z"/>\n</g>\n<g>\n\t<path fill="#2B2A29" d="M1345.364,215.527c-2.716-4.778-5.286-8.632-7.64-11.455l0.436-0.363c2.375,2.849,4.964,6.731,7.696,11.538\n\t\tL1345.364,215.527z"/>\n</g>\n<g>\n\t<path fill="#2B2A29" d="M134.545,215.527l-0.493-0.28c2.732-4.806,5.322-8.688,7.697-11.538l0.436,0.363\n\t\tC139.831,206.896,137.26,210.75,134.545,215.527z"/>\n</g>\n<g>\n\t<path fill="#2B2A29" d="M1338.16,1248.741l-0.436-0.363c2.354-2.825,4.925-6.679,7.64-11.454l0.492,0.279\n\t\tC1343.125,1242.009,1340.536,1245.891,1338.16,1248.741z"/>\n</g>\n<g>\n\t<path d="M753.095,1296.024l-13.141-0.001l-13.139,0.001l-573.224-0.021c-7.73,0-15.162-1.721-22.086-5.114l-3.006-1.474\n\t\tl0.034-0.153c-1.977-1.15-4.392-2.701-5.901-4.187c-1.917-1.887-3.072-3.022-5.032-5.511\n\t\tc-15.816-20.083-29.072-74.286-39.4-161.105c-12.207-102.613-18.917-241.912-18.895-392.235\n\t\tC59.283,575.902,65.994,436.603,78.2,333.99c10.328-86.819,23.583-141.022,39.399-161.105c1.961-2.49,3.117-3.626,5.031-5.509\n\t\tc1.51-1.485,3.889-3.019,5.85-4.161l-0.037-0.153l3.063-1.501c6.926-3.394,14.356-5.115,22.085-5.115l599.503-0.02l573.224,0.02\n\t\tc7.729,0,15.159,1.721,22.085,5.116l0.138,0.07c1.171,0.601,6.215,3.263,8.736,5.743c1.921,1.89,3.074,3.025,5.032,5.511\n\t\tc15.816,20.082,29.072,74.285,39.4,161.105c12.206,102.613,18.916,241.912,18.895,392.236\n\t\tc0.021,150.323-6.688,289.622-18.895,392.234c-10.328,86.82-23.584,141.023-39.399,161.105c-1.958,2.485-3.111,3.619-5.021,5.499\n\t\tc-1.496,1.47-3.855,2.996-5.811,4.139l0.041,0.158l-3.117,1.528c-6.925,3.394-14.355,5.114-22.085,5.114L753.095,1296.024z\n\t\t M135.287,1283.272c5.738,2.805,11.896,4.228,18.305,4.228l599.503,0.021l573.224-0.021c6.405,0,12.563-1.422,18.3-4.226\n\t\tc2.466-1.27,5.555-3.138,6.696-4.262c1.851-1.82,2.69-2.646,4.315-4.71c10.197-12.947,25.005-50.67,37.636-156.847\n\t\tc12.167-102.29,18.856-241.231,18.835-391.23c0.021-150-6.668-288.941-18.835-391.231\n\t\tc-12.631-106.177-27.438-143.899-37.637-156.848c-1.625-2.063-2.465-2.89-4.306-4.701c-1.298-1.276-4.788-3.289-6.701-4.268\n\t\tc-5.74-2.806-11.898-4.229-18.304-4.229l-599.503-0.02l-573.223,0.02c-6.408,0-12.567,1.423-18.308,4.23\n\t\tc-1.993,1.023-5.401,2.992-6.688,4.258c-1.846,1.815-2.687,2.643-4.315,4.709c-10.198,12.949-25.005,50.672-37.636,156.848\n\t\tc-12.168,102.291-18.857,241.232-18.835,391.23c-0.022,149.999,6.667,288.941,18.835,391.231\n\t\tc12.63,106.176,27.438,143.898,37.636,156.848c1.627,2.065,2.468,2.893,4.312,4.706\n\t\tC129.785,1280.184,132.895,1282.039,135.287,1283.272z M1298.986,1268.536H180.923c-14.299,0-25.205-2.746-33.339-8.394\n\t\tc-3.548-2.465-6.579-5.497-9.012-9.017c-1.745-2.113-3.586-4.722-5.477-7.762c-0.777-0.92-0.929-1.652-0.729-3.49l-0.014-0.004\n\t\tl0.029-0.133c0.083-0.717,0.215-1.597,0.382-2.71c10.61-70.587,17.642-125.56,19.8-154.792\n\t\tc7.137-96.702,10.036-219.776,8.384-355.917l0-0.135c1.653-136.192-1.246-259.266-8.383-355.968\n\t\tc-2.161-29.272-9.196-84.271-19.811-154.866c-0.166-1.103-0.295-1.965-0.377-2.663l-0.024-0.107l0.011-0.002\n\t\tc-0.206-1.836-0.056-2.492,0.69-3.426c1.905-3.068,3.76-5.699,5.517-7.826c2.433-3.52,5.464-6.553,9.012-9.017\n\t\tc8.134-5.649,19.04-8.395,33.34-8.395h1118.063c14.3,0,25.205,2.746,33.339,8.395c3.549,2.463,6.58,5.496,9.013,9.016\n\t\tc1.756,2.126,3.609,4.756,5.515,7.823c0.748,0.928,0.905,1.548,0.693,3.432l0.011,0.002l-0.024,0.109\n\t\tc-0.084,0.721-0.22,1.623-0.395,2.787c-10.607,70.58-17.637,125.534-19.792,154.739c-7.137,96.7-10.036,219.773-8.383,355.917\n\t\tv0.135c-1.653,136.194,1.246,259.269,8.383,355.969c2.157,29.227,9.188,84.196,19.798,154.781l0.352,2.343\n\t\tc0.309,2.063-0.131,3.379-0.813,4.216c-1.845,2.95-3.641,5.486-5.345,7.551c-2.433,3.52-5.464,6.552-9.013,9.017\n\t\tC1324.19,1265.79,1313.285,1268.536,1298.986,1268.536z M140.938,1239.858c1.505,2.354,2.946,4.36,4.295,5.979l0.246,0.325\n\t\tc1.892,2.771,4.167,5.059,6.955,6.995c6.663,4.626,15.982,6.875,28.489,6.875h1118.063c12.507,0,21.826-2.249,28.489-6.875\n\t\tc2.789-1.937,5.063-4.225,6.955-6.995l0.245-0.324c1.349-1.619,2.791-3.626,4.296-5.979c-0.065-0.436-0.145-0.964-0.237-1.577\n\t\tc-10.641-70.791-17.697-125.986-19.869-155.42c-7.155-96.938-10.062-220.265-8.406-356.646\n\t\tc-1.655-136.362,1.252-259.688,8.406-356.626c2.17-29.412,9.225-84.592,19.863-155.377c0.095-0.632,0.176-1.174,0.243-1.621\n\t\tc-1.506-2.354-2.947-4.36-4.296-5.979l-0.245-0.325c-1.892-2.771-4.166-5.059-6.955-6.995c-6.662-4.626-15.981-6.875-28.489-6.875\n\t\tH180.923c-12.508,0-21.827,2.249-28.489,6.875c-2.789,1.937-5.063,4.225-6.955,6.996l-0.246,0.325\n\t\tc-1.349,1.618-2.79,3.624-4.295,5.978c0.063,0.416,0.138,0.916,0.225,1.494c6.165,41.003,16.946,115.73,19.882,155.504\n\t\tc7.155,96.94,10.062,220.266,8.406,356.646c1.655,136.36-1.251,259.686-8.406,356.626c-2.173,29.439-9.23,84.639-19.871,155.431\n\t\tC141.082,1238.901,141.003,1239.425,140.938,1239.858z"/>\n</g>\n<g>\n\t<path fill="#2B2A29" d="M141.75,1248.741c-2.376-2.853-4.966-6.734-7.697-11.538l0.493-0.279c2.714,4.774,5.285,8.628,7.64,11.454\n\t\tL141.75,1248.741z"/>\n</g>\n<g>\n\t<path pulse:state="0" onclick:send=\'{ "state": 0 }\' fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M303.928,680.241h872.053c3.618,0,7.097,0.734,10.293,2.061\n\t\tc3.314,1.376,6.282,3.376,8.75,5.843v0.028c1.316,1.316,2.504,2.783,3.541,4.377c0.1,0.154,0.199,0.309,0.296,0.465h94.359\n\t\tc-0.189-27.991-0.184-55.901,0.031-83.474c0.226-29.081,0.685-57.708,1.394-85.573c0.722-28.368,1.69-55.844,2.922-82.098h0.001\n\t\tc1.211-25.818,2.661-50.408,4.362-73.463c1.137-15.413,2.439-30.72,3.913-45.868c1.39-14.293,2.93-28.204,4.624-41.668\n\t\tc1.601-12.723,3.296-24.682,5.085-35.797c1.643-10.206,3.37-19.79,5.181-28.701c-0.179-0.288-0.374-0.577-0.585-0.864\n\t\tc-0.34-0.463-0.702-0.879-1.083-1.25c-0.201-0.196-0.407-0.381-0.617-0.553l-0.671-0.466c-0.852-0.592-1.782-1.092-2.786-1.505\n\t\tc-1.133-0.466-2.43-0.864-3.884-1.197c-1.704-0.391-3.514-0.672-5.423-0.851c-1.886-0.177-4.127-0.262-6.696-0.262H753.094h-26.279\n\t\tH180.923c-2.569,0-4.81,0.085-6.696,0.262c-1.909,0.179-3.719,0.46-5.423,0.851c-1.453,0.333-2.751,0.731-3.884,1.197\n\t\tc-1.004,0.414-1.934,0.914-2.786,1.505l-0.669,0.465c-0.21,0.173-0.417,0.359-0.619,0.555c-0.381,0.371-0.743,0.787-1.084,1.25\n\t\tc-0.211,0.287-0.407,0.575-0.585,0.864c1.811,8.91,3.537,18.494,5.181,28.699c1.79,11.115,3.484,23.075,5.086,35.799\n\t\tc1.694,13.464,3.234,27.375,4.624,41.668c1.474,15.148,2.776,30.455,3.913,45.868c1.701,23.055,3.15,47.645,4.362,73.463h0.001\n\t\tc1.232,26.255,2.2,53.73,2.922,82.098c0.709,27.865,1.168,56.492,1.394,85.573c0.215,27.573,0.22,55.483,0.031,83.474h94.359\n\t\tc0.097-0.156,0.196-0.311,0.296-0.465c1.036-1.593,2.225-3.061,3.54-4.377v-0.028c2.467-2.467,5.436-4.467,8.75-5.843\n\t\tC296.832,680.975,300.31,680.241,303.928,680.241"/>\n</g>\n<g>\n\t<path pulse:state="1" onclick:send=\'{ "state": 1 }\' fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M303.928,735.136h872.053c3.618,0,7.097-0.792,10.293-2.223\n\t\tc3.314-1.484,6.282-3.641,8.75-6.301v-0.03c1.316-1.419,2.504-3.001,3.541-4.719c0.1-0.165,0.199-0.333,0.296-0.501h94.359\n\t\tc-0.189,30.182-0.184,60.278,0.031,90.009c0.226,31.358,0.685,62.227,1.394,92.273c0.722,30.589,1.69,60.216,2.922,88.526h0.001\n\t\tc1.211,27.839,2.661,54.354,4.362,79.214c1.137,16.619,2.439,33.125,3.913,49.459c1.39,15.412,2.93,30.412,4.624,44.931\n\t\tc1.601,13.719,3.296,26.614,5.085,38.599c1.643,11.005,3.37,21.34,5.181,30.948c-0.179,0.311-0.374,0.622-0.585,0.932\n\t\tc-0.34,0.499-0.702,0.948-1.083,1.347c-0.201,0.211-0.407,0.41-0.617,0.597l-0.671,0.502c-0.852,0.638-1.782,1.177-2.786,1.623\n\t\tc-1.133,0.503-2.43,0.932-3.884,1.291c-1.704,0.422-3.514,0.724-5.423,0.918c-1.886,0.191-4.127,0.282-6.696,0.282H753.094h-26.279\n\t\tH180.923c-2.569,0-4.81-0.091-6.696-0.282c-1.909-0.193-3.719-0.496-5.423-0.918c-1.453-0.359-2.751-0.788-3.884-1.291\n\t\tc-1.004-0.446-1.934-0.985-2.786-1.623l-0.669-0.501c-0.21-0.187-0.417-0.387-0.619-0.598c-0.381-0.4-0.743-0.849-1.084-1.347\n\t\tc-0.211-0.31-0.407-0.62-0.585-0.932c1.811-9.607,3.537-19.942,5.181-30.946c1.79-11.985,3.484-24.881,5.086-38.601\n\t\tc1.694-14.518,3.234-29.518,4.624-44.931c1.474-16.334,2.776-32.84,3.913-49.459c1.701-24.86,3.15-51.375,4.362-79.214h0.001\n\t\tc1.232-28.31,2.2-57.937,2.922-88.526c0.709-30.046,1.168-60.915,1.394-92.273c0.215-29.731,0.22-59.827,0.031-90.009h94.359\n\t\tc0.097,0.169,0.196,0.336,0.296,0.501c1.036,1.718,2.225,3.301,3.54,4.719v0.03c2.467,2.66,5.436,4.817,8.75,6.301\n\t\tC296.832,734.344,300.31,735.136,303.928,735.136"/>\n</g>\n<g>\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M303.928,718.563h872.053c7.026,0,12.774-5.748,12.774-12.774\n\t\tc0-7.026-5.748-12.774-12.774-12.774H303.928c-7.026,0-12.774,5.748-12.774,12.774\n\t\tC291.155,712.815,296.903,718.563,303.928,718.563"/>\n</g>\n\t</g>\n</svg>\n',
	svgWidth: '80vw',
	svgHeight: '70vh',
	initWithDeviceData: false,
	previous: true,
	next: true
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container"></div>
	<div id="body"><span class="content"></span></div>
</div>

<script>
	var idPrefix = '[data-id="' + options.id + '"] ';
	$(idPrefix + '#body > span').html(__(options.body));
	var $imageContainer = $(idPrefix + '#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);

	$imageContainer.html(options.svg);
	Homey.emit('test', function(err, device){
		if(err){
			Homey.alert(__(err.message || err));
			return;
		}
		$imageContainer.highlight(device, options.initWithDeviceData ? device.data : false);
	});
</script>

<script>

$('<div>').append(
	$('<input id="invert-checkbox" type="checkbox" style="position: relative; bottom: 1px; vertical-align: middle;">')
		.on('change', function(){ 
			var newSettings = { rotated: this.checked ? '180' : '0'};
			Homey.emit('set_settings', newSettings, function(){
				Homey.highlight(newSettings);
			})
		}),
	$('<label for="invert-checkbox" style="padding: 0 1em;">')
		.html(__('deviceClasses.wall_switch.settings.rotated.label'))
).insertAfter('[data-id="generic_test_remote"] .centered-container > #image-container')
</script>